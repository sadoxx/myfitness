@inherits LayoutComponentBase
@using MudBlazor

<MudThemeProvider Theme="@_theme" IsDarkMode="true" />

<MudLayout>
    <MudAppBar Elevation="0" Dense="true" Class="app-bar-custom">
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@ToggleDrawer" />
        <MudText Typo="Typo.h5" Class="ml-3 fw-bold">
            <span style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 700;">MyFit</span>
        </MudText>
        <MudSpacer />
        <MudIconButton Icon="@Icons.Material.Filled.Notifications" Color="Color.Inherit" Size="Size.Medium" />
        <MudIconButton Icon="@Icons.Material.Filled.AccountCircle" Color="Color.Inherit" Size="Size.Medium" />
    </MudAppBar>
    
    <MudDrawer @bind-Open="@_drawerOpen" Elevation="0" Variant="@DrawerVariant.Mini" OpenMiniOnHover="true" ClipMode="DrawerClipMode.Always" Class="drawer-custom">
        <MudDrawerHeader Class="drawer-header-custom">
            <MudText Typo="Typo.h6" Class="fw-bold">Menu</MudText>
        </MudDrawerHeader>
        <NavMenu />
    </MudDrawer>
    
    <MudMainContent Class="main-content-custom">
        <MudContainer MaxWidth="MaxWidth.ExtraExtraLarge" Class="py-6">
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>

@code {
    private bool _drawerOpen = true;
    
    private MudTheme _theme = new()
    {
        PaletteDark = new PaletteDark
        {
            Primary = "#667eea",
            Secondary = "#764ba2",
            Tertiary = "#f093fb",
            Success = "#10b981",
            Info = "#3b82f6",
            Warning = "#f59e0b",
            Error = "#ef4444",
            AppbarBackground = "#0f172a",
            AppbarText = "#f8fafc",
            Background = "#0f172a",
            Surface = "#1e293b",
            DrawerBackground = "#1e293b",
            DrawerText = "#e2e8f0",
            DrawerIcon = "#94a3b8",
            TextPrimary = "#f8fafc",
            TextSecondary = "#cbd5e1",
            TextDisabled = "#64748b",
            ActionDefault = "#94a3b8",
            ActionDisabled = "#475569",
            ActionDisabledBackground = "#334155",
            Divider = "#334155",
            DividerLight = "#1e293b",
            TableLines = "#334155",
            LinesDefault = "#334155",
            LinesInputs = "#475569",
            HoverOpacity = 0.06
        },
        LayoutProperties = new LayoutProperties
        {
            DrawerWidthLeft = "240px",
            DrawerWidthRight = "240px",
            AppbarHeight = "64px"
        },
        Typography = new Typography
        {
            Default = new Default
            {
                FontFamily = new[] { "Inter", "Roboto", "Helvetica", "Arial", "sans-serif" },
                FontSize = "0.875rem",
                FontWeight = 400,
                LineHeight = 1.5,
                LetterSpacing = "0.01em"
            },
            H1 = new H1
            {
                FontSize = "3rem",
                FontWeight = 700,
                LineHeight = 1.2
            },
            H2 = new H2
            {
                FontSize = "2.5rem",
                FontWeight = 700,
                LineHeight = 1.3
            },
            H3 = new H3
            {
                FontSize = "2rem",
                FontWeight = 600,
                LineHeight = 1.3
            },
            H4 = new H4
            {
                FontSize = "1.75rem",
                FontWeight = 600,
                LineHeight = 1.4
            },
            H5 = new H5
            {
                FontSize = "1.5rem",
                FontWeight = 600,
                LineHeight = 1.4
            },
            H6 = new H6
            {
                FontSize = "1.25rem",
                FontWeight = 600,
                LineHeight = 1.5
            }
        },
        Shadows = new Shadow
        {
            Elevation = new string[]
            {
                "none",
                "0 2px 4px -1px rgba(0,0,0,0.2), 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12)",
                "0 3px 5px -1px rgba(0,0,0,0.2), 0 6px 10px 0 rgba(0,0,0,0.14), 0 1px 18px 0 rgba(0,0,0,0.12)",
                "0 4px 5px -2px rgba(0,0,0,0.2), 0 7px 10px 1px rgba(0,0,0,0.14), 0 2px 16px 1px rgba(0,0,0,0.12)",
                "0 5px 6px -3px rgba(0,0,0,0.2), 0 9px 12px 1px rgba(0,0,0,0.14), 0 3px 16px 2px rgba(0,0,0,0.12)",
                "0 6px 7px -4px rgba(0,0,0,0.2), 0 11px 15px 1px rgba(0,0,0,0.14), 0 4px 20px 3px rgba(0,0,0,0.12)",
                "0 7px 8px -4px rgba(0,0,0,0.2), 0 12px 17px 2px rgba(0,0,0,0.14), 0 5px 22px 4px rgba(0,0,0,0.12)",
                "0 7px 9px -4px rgba(0,0,0,0.2), 0 14px 21px 2px rgba(0,0,0,0.14), 0 5px 26px 4px rgba(0,0,0,0.12)",
                "0 8px 9px -5px rgba(0,0,0,0.2), 0 15px 22px 2px rgba(0,0,0,0.14), 0 6px 28px 5px rgba(0,0,0,0.12)",
                "0 8px 10px -5px rgba(0,0,0,0.2), 0 16px 24px 2px rgba(0,0,0,0.14), 0 6px 30px 5px rgba(0,0,0,0.12)",
                "0 9px 11px -5px rgba(0,0,0,0.2), 0 18px 28px 2px rgba(0,0,0,0.14), 0 7px 34px 6px rgba(0,0,0,0.12)",
                "0 9px 12px -6px rgba(0,0,0,0.2), 0 19px 29px 2px rgba(0,0,0,0.14), 0 7px 36px 6px rgba(0,0,0,0.12)",
                "0 10px 13px -6px rgba(0,0,0,0.2), 0 20px 31px 3px rgba(0,0,0,0.14), 0 8px 38px 7px rgba(0,0,0,0.12)",
                "0 10px 14px -6px rgba(0,0,0,0.2), 0 21px 33px 3px rgba(0,0,0,0.14), 0 8px 40px 7px rgba(0,0,0,0.12)",
                "0 11px 14px -7px rgba(0,0,0,0.2), 0 23px 36px 3px rgba(0,0,0,0.14), 0 9px 44px 8px rgba(0,0,0,0.12)",
                "0 11px 15px -7px rgba(0,0,0,0.2), 0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12)",
            }
        }
    };

    private void ToggleDrawer()
    {
        _drawerOpen = !_drawerOpen;
    }
}
